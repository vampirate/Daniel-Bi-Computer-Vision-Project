<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>
        <meta charset="utf-8" />
        <title>DogOrCat?</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" media="screen" href="../mystyle.css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
            crossorigin="anonymous">
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
    </head>

    <body>
        <div class="Navigation">
            <a href="../Home.html" fas fa-home>Home</a>
            <a href="../Information.html">My Info</a>
            <a href="../Image Identifier.html">Image Identifier</a>
            <a class="active" href="DogOrCat.html">DogOrCat</a>
        </div>

        <div class="ImageIdentifierMain">
            <h1>DogOrCat?</h1>
            <form>
                <input id="urlInput" name="urlInput" type="text" maxlength="512" placeholder="Put your image URL here!">
                <button id="myButton" class="button " type="button" onclick="loadDoc()"><span>Submit!</span></button>
            </form>
        </div>

        <div class="ImageIdentifierResult">
            <p id="ImageIdentifierTags">It is a: </p>
            <img id="ImageIdentifierImage" src="../images/Placeholder.png">
        </div>

        <script>
            function loadDoc() {
                var input = document.getElementById("urlInput").value;
                console.log(input);
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {
timer = setTimeout(document.getElementById("ImageIdentifierTags").innerHTML = "1", 1000)
                    document.getElementById("ImageIdentifierTags").innerHTML = "Executing code...<br>";
                    if (xhttp.readyState == 4) {
                        console.log("hey2")
                        var result = xhttp.responseText;
                        console.log(result);
                        document.getElementById("ImageIdentifierTags").innerHTML = "It is a: " + "<br>" +
                            result +
                            "<br>";
                        document.getElementById("ImageIdentifierImage").src = input;
                        console.log(input);
                        document.getElementById("ImageIdentifierImage").height = 150;
                    }
                };
                xhttp.open("POST", "http://127.0.0.1:3001/getimageurl", true);
                xhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                xhttp.send("imageurl=" + input);
            }
        </script>
        <div class="footer">
            <p>Made by Daniel Bi</p>
            <p>Powered by Keras and Python</p>
        </div>
    </body>

</html>